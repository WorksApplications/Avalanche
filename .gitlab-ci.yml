image: golang:1.9

before_script:
    - mkdir -p /go/src/git.paas.workslan/resource_optimization
    - ln -s ${CI_PROJECT_DIR} /go/src/git.paas.workslan/resource_optimization/dynamic_analysis
    - ls
    - ls /go/src/git.paas.workslan/resource_optimization/dynamic_analysis
    - cd /go/src/git.paas.workslan/resource_optimization/dynamic_analysis
    - go get -u github.com/go-swagger/cmd/swagger

build:
    stage: build
    script:
        - make swagger
        - make dep
        - make
